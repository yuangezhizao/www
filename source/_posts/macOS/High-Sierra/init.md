---
title: AMD 3700X + MPG x570 + GTX 1080 安装 macOS High Sierra 10.13.6
date: 2020-5-6 17:20:01
tags:
  - macOS
  - macOS High Sierra
count: 2
os: 0
os_1: 10.0.18363.720 Pro 1909
browser: 0
browser_1: 80.0.3987.87 Stable
place: 软件园
key: 87
---
    大折腾开始
<!-- more -->
## 0x00.前言
也不知道是应该从`OpenCore`入手还是仍旧`Clover`，反正都是从尝试别人现成的`EFI`开始，毕竟对于`SSDT`之类的仍然不是很懂（虽然自大二就听说过）
五一假期升级`ESXi 7.0`上的`unlocker`姿势不对就给搞炸了，开机紫屏直接`GG`翻车又没有能用的显示器就没去修，突发奇想要不要实机安装？黑果小兵迅雷离线了个最后支持`1080`显卡的`NVIDIA WebDriver`驱动即`10.13.6`版本的镜像烧录到`U`盘之后替换上`b`站某视频评论区中找到的支持`AMD Ryzen 3700X`的`EFI`文件夹，竟然在机械硬盘上一次性安装成功了，安装体验异常地好，原地起飞了。进系统调节音量滑块没有声音反馈，一看默认用的`VoodooHDA.kext`瞎找了个`AppleALC.kext`的教程重启之后就有声音了？？？`DP`（注意不是`HDMI`）和主板输出均有效爽翻……然后想着第一次没敢上`APFS`仍然用的`HFS+`就狠心删除分区重装，等到手动重装再恢复到之前的状态后，碰到了个破解站于是安了一堆软件以及`XCode`。但是，毕竟是在机械上所以整个系统变得巨卡无比并且声卡暴毙调试重启就得三五分钟？？？不管怎么试，真`tm`是死活没声音。于是重装再放送，`1T Games`固态盘挪走了一堆不常玩的游戏最终割出`200G`大小的分区（虽然之前想过再买一块固态单独用于其他系统，但是想想现有固态利用率过低并且没钱还不如直接去草现有的），立即重装到固态里，过安装界面看到`Transfer`才想到可以利用自带的传输工具而不必手动重装再再放送，果然可以找到机械上的`macOS`盘，不比磁盘工具克隆靠谱多了（况且`APFS`应该还不支持）。最后重设了主账户密码等待恢复完成，重启进系统需要重新验证下`Apple`账户密码就`ok`了，固态速度飞起，果然搞黑苹果还得是上固态啊，节省了非常多的调试时间（开机跑的似曾相识的代码完全停不下来就滚过去了）

## 0x01.显卡
本着对显卡负责的态度（毕竟黑果也可作为常用系统使用而不是纯粹尝鲜，并且谁都知道上`macOS`搞开发的舒适性），并没有选择最新的`macOS Mojave`版本而是`macOS High Sierra`，不难看出理由是[NVIDIA WebDriver](https://gfe.nvidia.com/mac-update)官方有提供驱动嘛，虽然鸽在了`10.13.6`这个版本上，但是果然还是很无奈不支持`10.14`……
> 谁能想到台式机上，装显卡驱动竟然是最简单又靠谱的

## 0x02.声卡
> 测试输出有效要一直播放声音，而不是调节音量滑块听反馈音

型号`ALC1220`都背下来了，经过总计两天的谷歌翻帖子和反复尝试（其中不乏大部分时间都在瞎`jb`调试）总算恢复了声音输出。。。
①首先是`VoodooHDA.kext`即万能声卡驱动，扔到`/CLOVER/kexts/Other/`就`ok`了（这么简单的方法搞了两天到最后才确认有效草）
②最后是`AppleALC.kext`即声卡仿冒驱动，和`Lilu.kext`一同扔到`/CLOVER/kexts/Other/`再配合写到启动参数里的`layout ID`就`ok`了（嗯，理论上是这样……）

①和②并不能同时使用，实测效果是①的优先级高于②，并且①的音量巨小，拉满也不觉得大到哪去，并且总感觉音质很辣鸡（虽然是木耳）只能凑合听，音箱外放低音比`Windows`少多了
②就从来没有尝试成功过，也许是`Layout ID`不对（`1`，`2`，`5`，`7`，`11`都试过了。。。）……并且在论坛上也看到有人说①可行②不可行的帖子
未完待续……